{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst storageKey = 'feedback-form-state';\n\nfeedbackForm.addEventListener('input', saveInputValue);\n\nfeedbackForm.addEventListener('submit', submitForm);\n\nfunction saveInputValue(event) {\n  if (\n    event.target.nodeName === 'INPUT' ||\n    event.target.nodeName === 'TEXTAREA'\n  ) {\n    const emailValue = feedbackForm\n      .querySelector('[name=\"email\"]')\n      .value.trim();\n    const messageValue = feedbackForm\n      .querySelector('[name=\"message\"]')\n      .value.trim();\n    if (emailValue || messageValue) {\n      localStorage.setItem(\n        storageKey,\n        JSON.stringify({ email: emailValue, message: messageValue })\n      );\n    } else {\n      localStorage.removeItem(storageKey);\n    }\n  }\n}\n\nfunction submitForm(event) {\n  event.preventDefault();\n\n  const emailInput = feedbackForm.querySelector('[name=\"email\"]');\n  const messageInput = feedbackForm.querySelector('[name=\"message\"]');\n  const email = emailInput.value.trim();\n  const message = messageInput.value.trim();\n\n  if (email !== '' && message !== '') {\n    console.log({ email, message });\n    localStorage.removeItem(storageKey);\n    feedbackForm.reset();\n  }\n}\n\nfunction loadFormData() {\n  const savedForm = localStorage.getItem(storageKey);\n  if (savedForm !== null) {\n    const parsedForm = JSON.parse(savedForm);\n\n    feedbackForm.querySelector('[name=\"email\"]').value =\n      parsedForm?.email || '';\n    feedbackForm.querySelector('[name=\"message\"]').value =\n      parsedForm?.message || '';\n  }\n}\n\nloadFormData();\n"],"names":["feedbackForm","storageKey","saveInputValue","submitForm","event","emailValue","messageValue","emailInput","messageInput","email","message","loadFormData","savedForm","parsedForm"],"mappings":"oCAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAa,sBAEnBD,EAAa,iBAAiB,QAASE,CAAc,EAErDF,EAAa,iBAAiB,SAAUG,CAAU,EAElD,SAASD,EAAeE,EAAO,CAC7B,GACEA,EAAM,OAAO,WAAa,SAC1BA,EAAM,OAAO,WAAa,WAC1B,CACA,MAAMC,EAAaL,EAChB,cAAc,gBAAgB,EAC9B,MAAM,KAAI,EACPM,EAAeN,EAClB,cAAc,kBAAkB,EAChC,MAAM,KAAI,EACTK,GAAcC,EAChB,aAAa,QACXL,EACA,KAAK,UAAU,CAAE,MAAOI,EAAY,QAASC,EAAc,CACnE,EAEM,aAAa,WAAWL,CAAU,CAErC,CACH,CAEA,SAASE,EAAWC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMG,EAAaP,EAAa,cAAc,gBAAgB,EACxDQ,EAAeR,EAAa,cAAc,kBAAkB,EAC5DS,EAAQF,EAAW,MAAM,KAAI,EAC7BG,EAAUF,EAAa,MAAM,KAAI,EAEnCC,IAAU,IAAMC,IAAY,KAC9B,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAWT,CAAU,EAClCD,EAAa,MAAK,EAEtB,CAEA,SAASW,GAAe,CACtB,MAAMC,EAAY,aAAa,QAAQX,CAAU,EACjD,GAAIW,IAAc,KAAM,CACtB,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAEvCZ,EAAa,cAAc,gBAAgB,EAAE,OAC3Ca,GAAA,YAAAA,EAAY,QAAS,GACvBb,EAAa,cAAc,kBAAkB,EAAE,OAC7Ca,GAAA,YAAAA,EAAY,UAAW,EAC1B,CACH,CAEAF,EAAc"}